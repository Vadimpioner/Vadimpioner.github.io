(this.webpackJsonpsneakers=this.webpackJsonpsneakers||[]).push([[0],{39:function(e,t,a){},59:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),r=a(13),n=a(32),i=a.n(n),l=(a(39),a(14)),o=a(11),d=a(7),j=a.n(d),u=a(12),b=a(4),h=a(2),x=a(5),m=a.n(x),p=(a(59),a(1));var O=function(e){var t=s.a.useContext(y).cardItems.reduce((function(e,t){return t.price+e}),0);return Object(p.jsx)("header",{children:Object(p.jsxs)("div",{className:"label",children:[Object(p.jsx)(r.b,{to:"/",children:Object(p.jsxs)("div",{className:"label__logo",children:[Object(p.jsx)("div",{className:"label__logo-img",children:Object(p.jsx)("img",{src:"img/header-logo.png",alt:"logo",className:"header-logo"})}),Object(p.jsxs)("div",{className:"label__logo-text",children:[Object(p.jsx)("b",{children:"REACT SNEAKERS"}),Object(p.jsx)("span",{children:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043b\u0443\u0447\u0448\u0438\u0445 \u043a\u0440\u043e\u0441\u0441\u043e\u0432\u043e\u043a"})]})]})}),Object(p.jsxs)("div",{className:"label__active",children:[Object(p.jsxs)("div",{className:"label__active-by",children:[Object(p.jsx)("img",{onClick:e.onClickCard,src:"img/header-by.svg",alt:"by",className:"header-by"}),Object(p.jsxs)("span",{className:"header-price",children:[t," \u0440\u0443\u0431."]})]}),Object(p.jsx)("div",{className:"label__active-likes",children:Object(p.jsx)(r.b,{to:"/favorites",children:Object(p.jsx)("img",{src:"img/header-likes.svg",alt:"likes",className:"header-likes"})})}),Object(p.jsx)("div",{className:"label__active-profile",children:Object(p.jsx)(r.b,{to:"/orders",children:Object(p.jsx)("img",{src:"img/header-profile.svg",alt:"profile",className:"header-profile"})})})]})]})})},f=(a(66),function(e){var t=e.image,a=e.title,c=e.description,r=s.a.useContext(y).setCardOpened;return Object(p.jsxs)("div",{className:"box",children:[Object(p.jsx)("img",{src:t,alt:"box"}),Object(p.jsx)("b",{children:a}),Object(p.jsx)("span",{children:c}),Object(p.jsxs)("button",{onClick:function(){return r(!1)},children:["\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434",Object(p.jsx)("img",{src:"img/strelka.svg",alt:"strelka"})]})]})}),v=function(e){return new Promise((function(t){return setTimeout(t,e)}))};var g=function(e){var t=e.closeBasket,a=e.onDelete,c=e.items,r=void 0===c?[]:c,n=s.a.useContext(y),i=n.cardItems,l=n.setCardItems,o=s.a.useState(null),d=Object(b.a)(o,2),h=d[0],x=d[1],O=s.a.useState(!1),g=Object(b.a)(O,2),k=g[0],N=g[1],C=s.a.useState(!1),_=Object(b.a)(C,2),w=_[0],S=_[1],I=i.reduce((function(e,t){return t.price+e}),0),A=function(){var e=Object(u.a)(j.a.mark((function e(){var t,a,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,m.a.post("https://60d4fbfa943aa6001776877b.mockapi.io/Order/",{items:i});case 4:t=e.sent,a=t.data,x(a.id),N(!0),l([]),c=0;case 10:if(!(c<i.length)){e.next=19;break}return s=i[c],e.next=14,m.a.delete("https://60d4fbfa943aa6001776877b.mockapi.io/Card/"+s.id);case 14:return e.next=16,v(1e3);case 16:c++,e.next=10;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437");case 24:S(!1);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"overlay",children:Object(p.jsx)("div",{className:"basket",children:Object(p.jsxs)("div",{className:"header",children:[Object(p.jsxs)("p",{className:"name",children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430",Object(p.jsx)("img",{onClick:t,className:"closeBasket",src:"img/close.svg",alt:"close"})]}),r.length>0?Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"basket__wrapper",children:r.map((function(e){return Object(p.jsxs)("div",{className:"basket__wrapper-sneakers",children:[Object(p.jsx)("img",{src:e.images,alt:"sneakers-2"}),Object(p.jsxs)("div",{className:"basket__wrapper-text",children:[Object(p.jsx)("p",{children:e.title}),Object(p.jsx)("b",{children:e.price})]}),Object(p.jsx)("img",{onClick:function(){return a(e.id)},src:"img/close.svg",alt:"close"})]},e.id)}))}),Object(p.jsxs)("div",{className:"footer",children:[Object(p.jsxs)("div",{className:"price",children:[Object(p.jsx)("p",{children:"\u0418\u0442\u043e\u0433\u043e: "}),Object(p.jsxs)("span",{children:[I," \u0440\u0443\u0431."]})]}),Object(p.jsxs)("div",{className:"price",children:[Object(p.jsx)("p",{children:"\u041d\u0430\u043b\u043e\u0433 5%: "}),Object(p.jsxs)("span",{children:[.05*I," \u0440\u0443\u0431."]})]}),Object(p.jsxs)("button",{disabled:w,onClick:A,className:"greenName",children:["\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437",Object(p.jsx)("img",{src:"img/strelka.svg",alt:"strelka"})]})]})]}):Object(p.jsx)(f,{title:k?"\u0417\u0430\u043a\u0430\u0437 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d":"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430\u044f",description:k?"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437  \u2116".concat(h," \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u043a\u0443\u0440\u044c\u0435\u0440\u0441\u043a\u043e\u0439 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0435"):"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u043f\u0430\u0440\u0443 \u043a\u0440\u043e\u0441\u0441\u043e\u0432\u043e\u043a, \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437.",image:k?"img/done.png":"img/box.png"})]})})})},k=a(34);a(67);var N=function(e){var t=e.id,a=e.images,c=e.title,r=e.price,n=e.onPluse,i=e.onFavorites,l=e.favorited,o=void 0!==l&&l,d=(e.added,e.loading),j=void 0!==d&&d,u=s.a.useContext(y).isItemAdded,h=s.a.useState(o),x=Object(b.a)(h,2),m=x[0],O=x[1];return Object(p.jsx)("div",{className:"content__card",children:j?Object(p.jsxs)(k.a,{speed:2,width:152,height:222,viewBox:"0 0 155 265",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(p.jsx)("rect",{x:"1",y:"0",rx:"10",ry:"10",width:"152",height:"128"}),Object(p.jsx)("rect",{x:"0",y:"167",rx:"5",ry:"5",width:"152",height:"15"}),Object(p.jsx)("rect",{x:"0",y:"187",rx:"5",ry:"5",width:"100",height:"15"}),Object(p.jsx)("rect",{x:"1",y:"230",rx:"5",ry:"5",width:"80",height:"32"}),Object(p.jsx)("rect",{x:"124",y:"230",rx:"10",ry:"10",width:"32",height:"32"})]}):Object(p.jsxs)(p.Fragment,{children:[i&&Object(p.jsx)("img",{className:"heart",onClick:function(){O(!m),i({id:t,images:a,title:c,price:r})},src:m?"img/heart-active.svg":"img/heart.svg",alt:"heart"}),Object(p.jsx)("img",{className:"cross",src:a,alt:"sneakers-1"}),Object(p.jsx)("div",{className:"name",children:c}),Object(p.jsxs)("div",{className:"content__card-price",children:[Object(p.jsxs)("div",{className:"price",children:[Object(p.jsx)("p",{className:"text-1",children:"\u0426\u0435\u043d\u0430:"}),Object(p.jsxs)("p",{className:"text-2",children:[r," \u0440\u0443\u0431."]})]}),Object(p.jsx)("div",{className:"pluse",children:n&&Object(p.jsx)("img",{onClick:function(){n({id:t,parentId:t,images:a,title:c,price:r})},src:u(t)?"img/pluse-active.svg":"img/pluse.svg",alt:"Pluse"})})]})]})})};var C=function(e){var t=e.items,a=e.searchValue,c=e.onChangeSearchInput,s=e.setSearchValue,r=e.onAddToFavorites,n=e.onAddToCard,i=e.isLoading;return Object(p.jsxs)("div",{className:"content",children:[Object(p.jsxs)("div",{className:"content__search",children:[Object(p.jsx)("h1",{children:a?'\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443:"'.concat(a,'"'):"\u0412\u0441\u0435 \u043a\u0440\u043e\u0441\u0441\u043e\u0432\u043a\u0438"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{className:"search-value",src:"img/search.svg",alt:"search"}),Object(p.jsx)("input",{onChange:c,value:a,placeholder:"\u041f\u043e\u0438\u0441\u043a...",maxLength:"20"}),a&&Object(p.jsx)("img",{onClick:function(){return s("")},className:"close-value",src:"img/close.svg",alt:"close-value"})]})]}),Object(p.jsx)("div",{className:"wrapper",children:function(){var e=t.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())}));return(i?Object(o.a)(Array(12)):e).map((function(e,t){return Object(p.jsx)(N,Object(l.a)({loading:i,onFavorites:function(e){return r(e)},onPluse:function(e){return n(e)}},e),t)}))}()})]})};var _=function(e){var t=e.onAddToFavorites,a=s.a.useContext(y).favorites;return Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)("div",{className:"content__search",children:Object(p.jsx)("h1",{children:"\u041c\u043e\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"})}),Object(p.jsx)("div",{className:"wrapper",children:a.map((function(e,a){return Object(p.jsx)(N,{id:e.id,images:e.images,title:e.title,price:e.price,favorited:!0,onFavorites:t},a)}))})]})};var w=function(){var e=s.a.useState([]),t=Object(b.a)(e,2),a=t[0],c=t[1],r=s.a.useState(!0),n=Object(b.a)(r,2),i=n[0],d=n[1];return s.a.useEffect((function(){Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://60d4fbfa943aa6001776877b.mockapi.io/Order");case 3:t=e.sent,a=t.data,c(a.reduce((function(e,t){return[].concat(Object(o.a)(e),Object(o.a)(t.items))}),[])),d(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0437\u0430\u043a\u0430\u0437\u043e\u0432");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)("div",{className:"content__search",children:Object(p.jsx)("h1",{children:"\u041c\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b"})}),Object(p.jsx)("div",{className:"wrapper",children:(i?Object(o.a)(Array(12)):a).map((function(e,t){return Object(p.jsx)(N,Object(l.a)({loading:i},e),t)}))})]})},y=s.a.createContext({});var S=function(){var e=s.a.useState([]),t=Object(b.a)(e,2),a=t[0],c=t[1],r=s.a.useState([]),n=Object(b.a)(r,2),i=n[0],d=n[1],x=s.a.useState([]),f=Object(b.a)(x,2),v=f[0],k=f[1],N=s.a.useState(""),S=Object(b.a)(N,2),I=S[0],A=S[1],T=s.a.useState(!1),F=Object(b.a)(T,2),E=F[0],B=F[1],L=s.a.useState(!0),P=Object(b.a)(L,2),V=P[0],D=P[1];s.a.useEffect((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,m.a.get("https://60d4fbfa943aa6001776877b.mockapi.io/Card");case 3:return t=e.sent,e.next=6,m.a.get("https://60d4fbfa943aa6001776877b.mockapi.io/favorites");case 6:return a=e.sent,e.next=9,m.a.get("https://60d4fbfa943aa6001776877b.mockapi.io/items");case 9:s=e.sent,D(!1),d(t.data),k(a.data),c(s.data);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var J=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=i.find((function(e){return Number(e.parentId)===Number(t.id)})))){e.next=8;break}return d((function(e){return e.filter((function(e){return Number(e.parentId)!==Number(t.id)}))})),e.next=6,m.a.delete("https://60d62397943aa60017768e77.mockapi.io/cart/".concat(a.id));case 6:e.next=14;break;case 8:return d((function(e){return[].concat(Object(o.a)(e),[t])})),e.next=11,m.a.post("https://60d62397943aa60017768e77.mockapi.io/cart",t);case 11:c=e.sent,s=c.data,d((function(e){return e.map((function(e){return e.parentId===s.parentId?Object(l.a)(Object(l.a)({},e),{},{id:s.id}):e}))}));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!v.find((function(e){return Number(e.id)===Number(t.id)}))){e.next=6;break}m.a.delete("https://60d4fbfa943aa6001776877b.mockapi.io/favorites/".concat(t.id)),k((function(e){return e.filter((function(e){return e.id!==t.id}))})),e.next=11;break;case 6:return e.next=8,m.a.post("https://60d4fbfa943aa6001776877b.mockapi.io/favorites",t);case 8:a=e.sent,c=a.data,k((function(e){return[].concat(Object(o.a)(e),[c])}));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0444\u0430\u0432\u043e\u0440\u0438\u0442\u044b");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(y.Provider,{value:{items:a,cardItems:i,favorites:v,isItemAdded:function(e){return i.some((function(t){return Number(t.parentId)===Number(e)}))},setCardOpened:B,setCardItems:d,onAddToCard:J},children:Object(p.jsxs)("div",{className:"container",children:[E?Object(p.jsx)(g,{items:i,closeBasket:function(){return B(!1)},onDelete:function(e){m.a.delete("https://60d4fbfa943aa6001776877b.mockapi.io/Card/".concat(e)),d((function(t){return t.filter((function(t){return t.id!==e}))}))}}):null,Object(p.jsxs)("div",{className:"block",children:[Object(p.jsx)(O,{onClickCard:function(){return B(!0)}}),Object(p.jsx)(h.a,{path:"/",exact:!0,children:Object(p.jsx)(C,{items:a,cardItems:i,searchValue:I,onChangeSearchInput:function(e){A(e.target.value)},setSearchValue:A,onAddToFavorites:R,onAddToCard:J,isLoading:V})}),Object(p.jsx)(h.a,{path:"/favorites",exact:!0,children:Object(p.jsx)(_,{onAddToFavorites:R})}),Object(p.jsx)(h.a,{path:"/orders",exact:!0,children:Object(p.jsx)(w,{})})]})]})})};i.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(r.a,{children:Object(p.jsx)(S,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.ea7854f1.chunk.js.map